import{G as D,H as L,J as A,K as z,L as M,N as W,M as X,O as Y,q as P,Q as T,u as i,S as O,o as m,c as _,U as V,V as Z,W as R,D as x,b as h,X as f,Y as ee,A as j,w as d,Z as te,h as $,t as p,a as u,F as se,f as K,g as ne,$ as ae,r as q,j as y}from"./index-BNNipqz5.js";import{C as oe,H as re,P as ie,E as le}from"./PlayCircleOutlined-ainG74jA.js";const ce=e=>e===void 0,ue=e=>typeof e=="number",de=e=>D(e)?!Number.isNaN(Number(e)):!1;function pe(e,s="px"){if(!e)return"";if(ue(e)||de(e))return`${e}${s}`;if(D(e))return e}const F="__epPropKey",H=e=>e,me=e=>A(e)&&!!e[F],fe=(e,s)=>{if(!A(e)||me(e))return e;const{values:t,required:r,default:n,type:l,validator:N}=e,I={type:l,required:!!r,validator:t||N?w=>{let v=!1,b=[];if(t&&(b=Array.from(t),z(e,"default")&&b.push(n),v||(v=b.includes(w))),N&&(v||(v=N(w))),!v&&b.length>0){const B=[...new Set(b)].map(E=>JSON.stringify(E)).join(", ");M(`Invalid prop: validation failed${s?` for prop "${s}"`:""}. Expected one of [${B}], got value ${JSON.stringify(w)}.`)}return v}:void 0,[F]:!0};return z(e,"default")&&(I.default=n),I},J=e=>L(Object.entries(e).map(([s,t])=>[s,fe(t,s)])),ye=H([String,Object,Function]),U=(e,s)=>{if(e.install=t=>{for(const r of[e,...Object.values(s??{})])t.component(r.name,r)},s)for(const[t,r]of Object.entries(s))e[t]=r;return e},_e=e=>(e.install=W,e),S="el",he="is-",g=(e,s,t,r,n)=>{let l=`${e}-${s}`;return t&&(l+=`-${t}`),r&&(l+=`__${r}`),n&&(l+=`--${n}`),l},ve=Symbol("namespaceContextKey"),ge=e=>{const s=X()?Y(ve,P(S)):P(S);return T(()=>i(s)||S)},k=(e,s)=>{const t=ge();return{namespace:t,b:(a="")=>g(t.value,e,a,"",""),e:a=>a?g(t.value,e,"",a,""):"",m:a=>a?g(t.value,e,"","",a):"",be:(a,o)=>a&&o?g(t.value,e,a,o,""):"",em:(a,o)=>a&&o?g(t.value,e,"",a,o):"",bm:(a,o)=>a&&o?g(t.value,e,a,"",o):"",bem:(a,o,c)=>a&&o&&c?g(t.value,e,a,o,c):"",is:(a,...o)=>{const c=o.length>=1?o[0]:!0;return a&&c?`${he}${a}`:""},cssVar:a=>{const o={};for(const c in a)a[c]&&(o[`--${t.value}-${c}`]=a[c]);return o},cssVarName:a=>`--${t.value}-${a}`,cssVarBlock:a=>{const o={};for(const c in a)a[c]&&(o[`--${t.value}-${e}-${c}`]=a[c]);return o},cssVarBlockName:a=>`--${t.value}-${e}-${a}`}};var G=(e,s)=>{const t=e.__vccOpts||e;for(const[r,n]of s)t[r]=n;return t};const $e=J({size:{type:H([Number,String])},color:{type:String}}),Ne=O({name:"ElIcon",inheritAttrs:!1}),be=O({...Ne,props:$e,setup(e){const s=e,t=k("icon"),r=T(()=>{const{size:n,color:l}=s;return!n&&!l?{}:{fontSize:ce(n)?void 0:pe(n),"--color":l}});return(n,l)=>(m(),_("i",Z({class:i(t).b(),style:i(r)},n.$attrs),[V(n.$slots,"default")],16))}});var Oe=G(be,[["__file","icon.vue"]]);const we=U(Oe),Pe=O({name:"ElTimeline",setup(e,{slots:s}){const t=k("timeline");return R("timeline",s),()=>x("ul",{class:[t.b()]},[V(s,"default")])}}),Ve=J({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:ye},hollow:{type:Boolean,default:!1}}),Ce=O({name:"ElTimelineItem"}),Ie=O({...Ce,props:Ve,setup(e){const s=e,t=k("timeline-item"),r=T(()=>[t.e("node"),t.em("node",s.size||""),t.em("node",s.type||""),t.is("hollow",s.hollow)]);return(n,l)=>(m(),_("li",{class:f([i(t).b(),{[i(t).e("center")]:n.center}])},[h("div",{class:f(i(t).e("tail"))},null,2),n.$slots.dot?$("v-if",!0):(m(),_("div",{key:0,class:f(i(r)),style:ee({backgroundColor:n.color})},[n.icon?(m(),j(i(we),{key:0,class:f(i(t).e("icon"))},{default:d(()=>[(m(),j(te(n.icon)))]),_:1},8,["class"])):$("v-if",!0)],6)),n.$slots.dot?(m(),_("div",{key:1,class:f(i(t).e("dot"))},[V(n.$slots,"dot")],2)):$("v-if",!0),h("div",{class:f(i(t).e("wrapper"))},[!n.hideTimestamp&&n.placement==="top"?(m(),_("div",{key:0,class:f([i(t).e("timestamp"),i(t).is("top")])},p(n.timestamp),3)):$("v-if",!0),h("div",{class:f(i(t).e("content"))},[V(n.$slots,"default")],2),!n.hideTimestamp&&n.placement==="bottom"?(m(),_("div",{key:1,class:f([i(t).e("timestamp"),i(t).is("bottom")])},p(n.timestamp),3)):$("v-if",!0)],2)],2))}});var Q=G(Ie,[["__file","timeline-item.vue"]]);const Se=U(Pe,{TimelineItem:Q}),Te=_e(Q),ke={class:"travels"},Be=h("br",null,null,-1),Ee={key:0,class:"itinerary"},ze=h("span",{class:"shadow"},null,-1),je=h("span",{class:"edge"},null,-1),Ke=h("span",{class:"front text"}," 删除计划 ",-1),qe=[ze,je,Ke],De={key:1},Ae={props:{},data(){return{id:1,party:{start_time:"2006-01-02",end_time:"2006-01-03"},info:{},partynull:!1}},methods:{deleteItinerary(){const e="/bocchi/party/itinerary/delete?itinerary_id="+this.id;K.get(e,{headers:{"access-token":this.access_token}}).then(s=>{console.log(s)}).catch(s=>{console.error(s)})},init(){const e="/bocchi/party/itinerary/info?itinerary_id="+this.id,s={};K.get(e,s).then(t=>{console.log(t),this.partynull=!0,this.info=t.data.itinerary,t.data.base.code==10007&&(this.partynull=0,console.log(this.partynull))}).catch(t=>{console.error(t)})}},mounted(){this.id=Number(this.$route.params.id),this.init(),this.access_token=ne.get("access_token")},computed:{getIcon(){return e=>{switch(e){case 1:return le;case 2:return ie;case 3:return re;case 4:return oe;case 5:return ae}}},getType(){return e=>{switch(e){case 1:return"路线";case 2:return"活动";case 3:return"住宿";case 4:return"餐饮";case 5:return"其他";default:return"未知类型"}}}}},Ue=Object.assign(Ae,{__name:"itinerary",setup(e){return P(!1),P(!1),(s,t)=>{const r=q("a-page-header"),n=Te,l=Se,N=q("a-empty");return m(),_(se,null,[h("div",ke,[u(r,{style:{border:"1px solid rgb(235, 237, 240)"},title:"计划详情",onBack:t[0]||(t[0]=()=>s.$router.go(-1))})]),Be,s.partynull?(m(),_("div",Ee,[u(l,{style:{"max-width":"600px","margin-left":"10%"}},{default:d(()=>[u(n,null,{default:d(()=>[y("计划名:"+p(s.info.title),1)]),_:1}),u(n,null,{default:d(()=>[y("序列:"+p(s.info.sequence),1)]),_:1}),u(n,null,{default:d(()=>[y(" 创建者:"+p(s.info.founder_id),1)]),_:1}),u(n,null,{default:d(()=>[y(" 类型："+p(s.getType(s.info.action_type)),1)]),_:1}),u(n,null,{default:d(()=>[y(" 备注："+p(s.info.remark),1)]),_:1}),u(n,null,{default:d(()=>[y(" 地点："+p(s.info.rectangle),1)]),_:1}),u(n,null,{default:d(()=>[y(" 路线："+p(s.info.route_json),1)]),_:1}),u(n,null,{default:d(()=>[y(" 开始时间："+p(s.info.schedule_start_time),1)]),_:1}),u(n,null,{default:d(()=>[y(" 结束时间: "+p(s.info.schedule_end_time),1)]),_:1})]),_:1}),h("button",{onClick:t[1]||(t[1]=(...C)=>s.deleteItinerary&&s.deleteItinerary(...C))},qe)])):$("",!0),s.partynull?$("",!0):(m(),_("div",De,[u(N)]))],64)}}});export{Ue as default};
