import{_ as g,c as v,b as s,a as i,t as n,d as f,v as k,w as r,F as w,f as c,g as h,r as p,o as b,j as l,p as y,k as x}from"./index-Do33PT-X.js";import{E as C}from"./el-button-CCZJn4ed.js";import"./index-DYZ4eJ6S.js";const d=t=>(y("data-v-43d79e3e"),t=t(),x(),t),B={class:"about"},I={id:"about"},S={class:"user_img"},V=["src"],$={class:"user_name"},j={id:"name"},E=d(()=>s("text",null,"个人签名",-1)),N=d(()=>s("div",{class:"signature"},null,-1)),F={class:"follow"},A=d(()=>s("br",null,null,-1)),D={data(){return{userid:"",setname:"设置",setcount:3,setshow:0,id:1,name:"未登录",avatar:"//xiey.work/ava.png",mail:"",signature:"这个人很懒，什么都没写。",access_token:"",refresh_token:"",avatarFile:null,url:"",showavatarpage:0,previewImage:null,file:null}},methods:{follow(t){c.post(this.url+"/bocchi/trust/action?object_uid="+this.id+"&action_type="+t,{},{headers:{"access-token":this.access_token}}).then(e=>{console.log(e.data.base.code)})},init(){c.get(this.url+"/bocchi/user/info?user_id="+this.id,{headers:{"access-token":this.access_token}}).then(t=>{console.log(t),t.data.base.code=="10000"&&(console.log("获取信息成功"),this.name=t.data.user.name,this.avatar=t.data.user.avatar,this.mail=t.data.user.email,this.signature=t.data.user.signature),t.data.base.code=="10007"&&(console.log("不存在"),this.name="该用户不存在"),console.log(this.avatar),this.avatar===""&&(this.avatar="//xiey.work/ava.png"),this.signature===""&&(this.signature="这个人很懒，什么都没写。")}).catch(t=>{console.error(t)})}},mounted(){this.id=Number(this.$route.params.id),this.access_token=h.get("access_token"),this.refresh_token=h.get("refresh_token"),this.init()},components:{},computed:{},watch:{},props:{},emits:{},setup(){}},T=Object.assign(D,{__name:"AboutView",setup(t){return(e,a)=>{const _=p("a-page-header"),u=C,m=p("a-divider");return b(),v(w,null,[s("div",B,[i(_,{style:{border:"1px solid rgb(235, 237, 240)","background-color":"#fff"},title:"Ta的资料","sub-title":"",onBack:a[0]||(a[0]=()=>e.$router.go(-1))}),s("div",I,[s("div",S,[s("img",{src:e.avatar,class:"touxiangimg rounded-image",onClick:a[1]||(a[1]=(...o)=>e.modavatarpage&&e.modavatarpage(...o)),style:{"object-fit":"cover",width:"50vw",height:"50vw","max-width":"300px","max-height":"300px"}},null,8,V)]),s("div",$,[s("text",j,n(e.name),1)]),E,N,f(s("div",{class:"sign-flur",onClick:a[2]||(a[2]=o=>e.savesignature(this.signature))},null,512),[[k,e.isEditing]]),s("text",null,"uid:"+n(e.id),1),s("text",null,"邮箱:"+n(e.mail),1),s("div",F,[i(u,{type:"primary",onClick:a[3]||(a[3]=o=>e.follow(1))},{default:r(()=>[l("关注")]),_:1}),i(u,{type:"danger",onClick:a[4]||(a[4]=o=>e.follow(0))},{default:r(()=>[l("取消关注")]),_:1})])]),i(m,{orientation:"left",class:"separate"},{default:r(()=>[l("评价")]),_:1})]),A],64)}}}),G=g(T,[["__scopeId","data-v-43d79e3e"]]);export{G as default};
